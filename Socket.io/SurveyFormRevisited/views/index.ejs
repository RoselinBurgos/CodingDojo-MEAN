<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title></title>
    <!-- Set up ajax and sockets -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type ="text/javascript" src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script type ="text/javascript">



      $(document).ready(function (){

        var socket  = io.connect();
        //When you click the button that has id =butt, to the following:
        $('#butt').click(function(){
          //The dictionary keys and the ID of the field.
          socket.emit( "form_submitted", {name: $('#name').val(), location: $('#location').val(), language: $('#language').val(), comment: $('#comment').val()
          });
        });

        //receiving the response 
        socket.on('server_response', function(data){
          $('.submitted').html(`<p> ${data.topMessage}</p><br><p>${data.randomNumber}</p>`);
        });

      });

    </script>

  </head>
  <style>

    body
    {
      background-color: lightgrey;
    }

    .box
    {
      border-bottom-color: black;
      border-width: 3px;
      border-style: inset;
      width: 24%;
      margin-top: 25px;
      margin-left: 30px;
    }

    .inside
    {
      margin-left: 25px;
      margin-top: 10px;
      margin-bottom: 25px;
    }

    .submitted
    {
      border-bottom-color: black;
      border-width: 3px;
      border-style: inset;
      width: 24%;
      margin-top: 25px;
      margin-left: 30px;
      font-weight: bold;

    }



  </style>


  <body>
      <div class="submitted">
    
        <!-- This is where the submitted info will display -->
      </div>


      <div class="box">

      <div class="inside">
      <h1>Survey Form</h1>
            
            Your Name: <input type="text" id="name"><br><br>

            Dojo Location: 
            <select id="location" >
              <option value ="Burbank">Burbank</option>
              <option value ="Tulsa">Tulsa</option>
              <option value ="Austin">Austin</option>
            </select><br><br>


            Favorite Language: 
            <select id="language" >
              <option value="Javascript">Javascript</option>
              <option value ="Python">Python</option>
              <option value ="Java">Java</option>
            </select><br><br>

            Comment (optional):<br>
            <textarea id="comment" ></textarea><br><br>

            <input type="submit" class="btn btn-dark" value="Submit" id='butt'>
      </div>
      </div>

            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


  </body>
</html>